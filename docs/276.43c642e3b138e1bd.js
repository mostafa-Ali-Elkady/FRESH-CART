"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[276],{4276:(v,_,r)=>{r.r(_),r.d(_,{WishlistComponent:()=>f});var l=r(6895),h=r(4349),t=r(1571),u=r(910),m=r(2018);function p(i,n){if(1&i){const s=t.EpF();t.TgZ(0,"div",8)(1,"div",9),t._UZ(2,"img",10),t.qZA(),t.TgZ(3,"div",11)(4,"div",12)(5,"div",13)(6,"h4",14),t._uU(7),t.qZA(),t.TgZ(8,"p",15),t._uU(9," price:"),t.TgZ(10,"span",16),t._uU(11),t.qZA()(),t.TgZ(12,"button",17,18),t.NdJ("click",function(){const c=t.CHM(s).$implicit,d=t.MAs(13),a=t.oxw(2);return t.KtG(a.removeWishlistItem(c._id,d))}),t._UZ(14,"i",19),t.TgZ(15,"span"),t._uU(16,"Remove"),t.qZA()()(),t.TgZ(17,"div",20)(18,"button",21,22),t.NdJ("click",function(){const c=t.CHM(s).$implicit,d=t.MAs(19),a=t.oxw(2);return t.KtG(a.addtocart(c._id,d))}),t._uU(20," Add To cart "),t.qZA()()()(),t._UZ(21,"hr"),t.qZA()}if(2&i){const s=n.$implicit;t.xp6(2),t.Q6J("src",s.imageCover,t.LSH)("alt",s.title)("title",s.title),t.xp6(5),t.hij(" ",s.title.split(" ").slice(0,10).join(" ")," "),t.xp6(4),t.hij(" ",s.price,"")}}function g(i,n){if(1&i&&(t.TgZ(0,"section",2)(1,"div",3)(2,"div",4)(3,"h2",5),t._uU(4,"Wishlist products"),t._UZ(5,"i",6),t.qZA()()(),t.YNc(6,p,22,5,"div",7),t.qZA()),2&i){const s=t.oxw();t.xp6(6),t.Q6J("ngForOf",s.wishlistProducts)}}function b(i,n){1&i&&(t.TgZ(0,"p",23),t._uU(1,"Your Wishlist Is Empty"),t.qZA(),t.TgZ(2,"a",24)(3,"button",25),t._uU(4,"Back To Products To add More Wishlist"),t.qZA()())}let f=(()=>{class i{constructor(s,o,e){this._CartService=s,this._ToastrService=o,this._Renderer2=e,this.wishlist=null,this.wishlistId="",this.wishlistProducts=[]}ngOnInit(){this._CartService.getUserWishlist().subscribe({next:s=>{this.wishlistProducts=s.data,console.log(this.wishlistProducts)}})}removeWishlistItem(s,o){this._Renderer2.setAttribute(o,"disabled","true"),this._CartService.removeWishlistItem(s).subscribe({next:e=>{console.log(e),this._ToastrService.success(e.message),this._Renderer2.removeAttribute(o,"disabled"),this.wishlistProducts=e.data,console.log("delete",this.wishlistProducts),this._CartService.getUserWishlist().subscribe({next:c=>{this.wishlistProducts=c.data,console.log(this.wishlistProducts)}})},error:e=>{this._Renderer2.removeAttribute(o,"disabled")}})}addtocart(s,o){this._Renderer2.setAttribute(o,"disabled","true"),this._CartService.addToCart(s).subscribe({next:e=>{console.log(e),this._ToastrService.success(e.message),this._CartService.cartNumber.next(e.numOfCartItems),this._Renderer2.removeAttribute(o,"disabled")},error:e=>{this._Renderer2.removeAttribute(o,"disabled")}})}}return i.\u0275fac=function(s){return new(s||i)(t.Y36(u.N),t.Y36(m._W),t.Y36(t.Qsj))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-wishlist"]],standalone:!0,features:[t.jDz],decls:3,vars:2,consts:[["class","p-3 shadow rounded my-5 bg-color",4,"ngIf","ngIfElse"],["message",""],[1,"p-3","shadow","rounded","my-5","bg-color"],[1,"d-flex","justify-content-between","align-items-center"],[1,"main-title"],[1,"txt-color"],[1,"fa","fa-heart","text-danger"],["class","row justify-content-between wishlist-item",4,"ngFor","ngForOf"],[1,"row","justify-content-between","wishlist-item"],[1,"col-md-2"],[1,"w-100",3,"src","alt","title"],[1,"col-md-10","my-3","my-md-0","py-3"],[1,"row","justify-content-between","align-items-center"],[1,"col-8","mb-3","flex-grow-1"],[1,"txt-color","h5"],[1,"text-main","fw-bold"],[1,"text-white","bg-main","p-1","fw-bold","rounded"],[1,"btn","btn-danger","fw-bold","rounded","p-1",3,"click"],["removeBtn",""],[1,"fa","fa-trash","text-main","mx-2"],[1,"col-4","text-end"],[1,"btn","btn-sm","btn-primary","fw-bold",3,"click"],["btn1",""],[1,"p-5","fs-3","text-center","fw-bold","txt-color"],["routerLink","/products"],[1,"btn","bg-main","text-white","d-block","mx-auto","mb-3","fw-bold"]],template:function(s,o){if(1&s&&(t.YNc(0,g,7,1,"section",0),t.YNc(1,b,5,0,"ng-template",null,1,t.W1O)),2&s){const e=t.MAs(2);t.Q6J("ngIf",o.wishlistProducts.length>0)("ngIfElse",e)}},dependencies:[l.ez,l.sg,l.O5,h.rH]}),i})()}}]);